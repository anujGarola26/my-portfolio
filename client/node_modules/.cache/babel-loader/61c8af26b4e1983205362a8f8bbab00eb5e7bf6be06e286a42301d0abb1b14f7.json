{"ast":null,"code":"import React,{useState,useEffect}from'react';import{motion}from'framer-motion';import axios from'axios';import'./VisitorCounter.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VisitorCounter=()=>{const[stats,setStats]=useState({visitors:0,countries:52,projects:3});const[loading,setLoading]=useState(true);useEffect(()=>{// Generate unique visitor ID\nlet visitorId=localStorage.getItem('visitorId');if(!visitorId){visitorId=\"visitor_\".concat(Date.now(),\"_\").concat(Math.random().toString(36).substr(2,9));localStorage.setItem('visitorId',visitorId);}// Track visitor\nconst trackVisitor=async()=>{try{const response=await axios.post('http://localhost:5000/api/contact/track-visitor',{visitorId});if(response.data.success){setStats({visitors:response.data.totalVisitors,countries:52,projects:3});}}catch(error){console.error('Error tracking visitor:',error);// Fallback to localStorage\nconst localCount=parseInt(localStorage.getItem('visitorCount')||'1000');setStats({visitors:localCount,countries:52,projects:3});}finally{setLoading(false);}};trackVisitor();},[]);// Animated counter\nconst[displayCount,setDisplayCount]=useState(0);useEffect(()=>{if(stats.visitors>0){let start=0;const end=stats.visitors;const duration=1000;// 1 second\nconst increment=end/(duration/16);// 60fps\nconst timer=setInterval(()=>{start+=increment;if(start>=end){setDisplayCount(end);clearInterval(timer);}else{setDisplayCount(Math.floor(start));}},16);return()=>clearInterval(timer);}},[stats.visitors]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"visitor-counter\",children:/*#__PURE__*/_jsx(\"div\",{className:\"counter-loading\",children:\"Loading stats...\"})});}return/*#__PURE__*/_jsxs(motion.div,{className:\"visitor-counter\",initial:{opacity:0,scale:0.5},animate:{opacity:1,scale:1},transition:{duration:0.5},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"counter-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"counter-icon\",children:\"\\uD83D\\uDC40\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"counter-details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"counter-number\",children:displayCount.toLocaleString()}),/*#__PURE__*/_jsx(\"span\",{className:\"counter-label\",children:\"Total Visitors\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"counter-divider\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"counter-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"counter-icon\",children:\"\\uD83C\\uDF0D\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"counter-details\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"counter-number\",children:[stats.countries,\"+\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"counter-label\",children:\"Countries\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"counter-divider\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"counter-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"counter-icon\",children:\"\\uD83D\\uDE80\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"counter-details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"counter-number\",children:stats.projects}),/*#__PURE__*/_jsx(\"span\",{className:\"counter-label\",children:\"Live Projects\"})]})]})]});};export default VisitorCounter;","map":{"version":3,"names":["React","useState","useEffect","motion","axios","jsx","_jsx","jsxs","_jsxs","VisitorCounter","stats","setStats","visitors","countries","projects","loading","setLoading","visitorId","localStorage","getItem","concat","Date","now","Math","random","toString","substr","setItem","trackVisitor","response","post","data","success","totalVisitors","error","console","localCount","parseInt","displayCount","setDisplayCount","start","end","duration","increment","timer","setInterval","clearInterval","floor","className","children","div","initial","opacity","scale","animate","transition","toLocaleString"],"sources":["C:/Code/project/story-portfolio/client/src/components/VisitorCounter.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport axios from 'axios';\r\nimport './VisitorCounter.css';\r\n\r\nconst VisitorCounter = () => {\r\n  const [stats, setStats] = useState({\r\n    visitors: 0,\r\n    countries: 52,\r\n    projects: 3\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Generate unique visitor ID\r\n    let visitorId = localStorage.getItem('visitorId');\r\n    if (!visitorId) {\r\n      visitorId = `visitor_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n      localStorage.setItem('visitorId', visitorId);\r\n    }\r\n\r\n    // Track visitor\r\n    const trackVisitor = async () => {\r\n      try {\r\n        const response = await axios.post('http://localhost:5000/api/contact/track-visitor', {\r\n          visitorId\r\n        });\r\n        \r\n        if (response.data.success) {\r\n          setStats({\r\n            visitors: response.data.totalVisitors,\r\n            countries: 52,\r\n            projects: 3\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error('Error tracking visitor:', error);\r\n        // Fallback to localStorage\r\n        const localCount = parseInt(localStorage.getItem('visitorCount') || '1000');\r\n        setStats({\r\n          visitors: localCount,\r\n          countries: 52,\r\n          projects: 3\r\n        });\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    trackVisitor();\r\n  }, []);\r\n\r\n  // Animated counter\r\n  const [displayCount, setDisplayCount] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (stats.visitors > 0) {\r\n      let start = 0;\r\n      const end = stats.visitors;\r\n      const duration = 1000; // 1 second\r\n      const increment = end / (duration / 16); // 60fps\r\n\r\n      const timer = setInterval(() => {\r\n        start += increment;\r\n        if (start >= end) {\r\n          setDisplayCount(end);\r\n          clearInterval(timer);\r\n        } else {\r\n          setDisplayCount(Math.floor(start));\r\n        }\r\n      }, 16);\r\n\r\n      return () => clearInterval(timer);\r\n    }\r\n  }, [stats.visitors]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"visitor-counter\">\r\n        <div className=\"counter-loading\">Loading stats...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <motion.div \r\n      className=\"visitor-counter\"\r\n      initial={{ opacity: 0, scale: 0.5 }}\r\n      animate={{ opacity: 1, scale: 1 }}\r\n      transition={{ duration: 0.5 }}\r\n    >\r\n      <div className=\"counter-item\">\r\n        <span className=\"counter-icon\">üëÄ</span>\r\n        <div className=\"counter-details\">\r\n          <span className=\"counter-number\">\r\n            {displayCount.toLocaleString()}\r\n          </span>\r\n          <span className=\"counter-label\">Total Visitors</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"counter-divider\"></div>\r\n\r\n      <div className=\"counter-item\">\r\n        <span className=\"counter-icon\">üåç</span>\r\n        <div className=\"counter-details\">\r\n          <span className=\"counter-number\">{stats.countries}+</span>\r\n          <span className=\"counter-label\">Countries</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"counter-divider\"></div>\r\n\r\n      <div className=\"counter-item\">\r\n        <span className=\"counter-icon\">üöÄ</span>\r\n        <div className=\"counter-details\">\r\n          <span className=\"counter-number\">{stats.projects}</span>\r\n          <span className=\"counter-label\">Live Projects</span>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default VisitorCounter;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}